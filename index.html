<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      console.log(`Hello world`);
      let computerScore = 0;
      let humanScore = 0;
      //computer choice
      //we use Math.random() with Math.floor() to generate a random number between 1 and 3
      function getComputerChoice() {
        const choice = Math.floor(Math.random() * (4 - 1) + 1);
        let result = "";

        if (choice === 1) {
          result = "rock";
        } else if (choice === 2) {
          result = "paper";
        } else if (choice === 3) {
          result = "scissors";
        }

        return result;
      }
      //computer choice should generate 'rock', 'paper', scissors randomly
      console.log(getComputerChoice());

      //human choice
      function getHumanChoice() {
        input = prompt(`Input user choice.`).toLowerCase();
        let choice = "";

        if (input === "rock" || input === "paper" || input === "scissors") {
          return (choice = input);
        }
      }

      console.log(getHumanChoice());
      //logic to play a single round
      function playRound(humanChoice, computerChoice) {
        if (humanChoice === null) {
          return `Game cancelled.`;
        }

        if (humanChoice === computerChoice) {
          console.log(`It's a tie`);
          return `tie`;
        } else if (
          (humanChoice === "rock" && computerChoice === "scissors") ||
          (humanChoice === "paper" && computerChoice === "rock") ||
          (humanChoice === "scissors" && computerChoice === "paper")
        ) {
          humanScore++;
          console.log(`You win! ${humanChoice} beats ${computerChoice}`);
          return `win`;
        } else {
          computerScore++;
          console.log(`You lose! ${computerChoice} beats ${humanChoice}`);
          return `lose`;
        }
      }
      const humanSelection = getHumanChoice();
      const computerSelection = getComputerChoice();

      console.log(playRound(humanSelection, computerSelection));
      //logic to play entire game
      function playGame() {
        //should call play round 5 times and keep track
        humanScore = 0;
        computerScore = 0;

        for (let i = 1; i <= 5; i++) {
          console.log(`\n---Round ${i} ---`);
          //loops 5 times
          const humanSelection = getHumanChoice();
          const computerSelection = getComputerChoice();

          const roundResult = playRound(humanSelection, computerSelection);
          if (roundResult === `cancelled`) {
            console.log(`Game cancelled by user.`);
            break;
          }

          console.log(
            `Current Score: Human ${humanScore} - Computer ${computerScore}`
          );
        }
        if (computerScore > humanScore) {
          console.log(
            `You lose! Computer ${computerScore} - Player ${humanScore}`
          );
        } else if (computerScore < humanScore) {
          console.log(
            `You win! Player ${humanScore} - Computer ${computerScore}`
          );
        } else {
          console.log(`It's a tie!`);
        }
      }

      console.log(playGame());
    </script>
  </body>
</html>
